<div class="channel-row">
    <mat-card class="channel-card">

        @if (chat === 'channel') {
        <app-header-channel [channel]="currentChannel" [members]="currentChannelMembers"
            [allUsers]="users"></app-header-channel>
        <main class="chat-space" [ngClass]="{'chat-space-empty': (channelMessages.length <= 0)}">
            @if (channelMessages.length <= 0) { <app-channel-msg [channel]="currentChannel" [owner]="'Willi'">
                </app-channel-msg>
                }
                @for (message of channelMessages; track $index) {
                <app-message [msg]="message" [user]="getUserFromMessage(message)" [isChannelMsg]="true" (threadOutput)="setThreadValues($event)"></app-message>
                }
        </main>
        }

        @else if (chat === 'message') {
        <app-direct-message [user]="chatUser"></app-direct-message>
        <main class="chat-space">
            <app-direct-msg [user]="chatUser"></app-direct-msg>

        </main>
        }

        @else {
        <app-header-new-msg></app-header-new-msg>
        <main class="chat-space">

        </main>
        }

        <app-input-textarea [channel]="currentChannel" [channelMsg]="true"></app-input-textarea>

    </mat-card>

    @if (chat === 'channel') {
    <app-threads [channelMsg]="threadMsg" [channel]="threadChannel" (closeThread)="deletThreadValues($event)"></app-threads>
    }

</div>